"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[352],{6352:(ee,h,n)=>{n.r(h),n.d(h,{AuthTeacherSignUpModule:()=>l});var g=n(9299),c=n(4859),d=n(6709),p=n(9549),f=n(7392),U=n(284),v=n(1572),_=n(6236),Z=n(7775),A=n(4466),b=n(5861),i=n(4006),y=n(8288),w=n(7759),C=n(7189),e=n(4650),F=n(8951),I=n(5830),q=n(7009),S=n(8214),T=n(4390),N=n(6895);const J=["signUpNgForm"];function Q(o,t){if(1&o&&(e.TgZ(0,"fuse-alert",42),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",r.alert.type)("@shake","error"===r.alert.type),e.xp6(1),e.hij(" ",r.alert.message," ")}}function Y(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," First name is required "),e.qZA())}function E(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Last name is required "),e.qZA())}function P(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Email address is required "),e.qZA())}function k(o,t){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function L(o,t){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" ",r.signUpForm.get("email").errors.serverError," ")}}function O(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(r);const s=e.oxw();return e.KtG(s.requestToOTP())}),e._uU(1," Verify "),e.qZA()}}function M(o,t){1&o&&(e.TgZ(0,"div",44),e._UZ(1,"mat-spinner",45),e.qZA())}function R(o,t){1&o&&(e.TgZ(0,"div",44),e._UZ(1,"mat-icon",46),e.qZA()),2&o&&(e.xp6(1),e.Q6J("svgIcon","mat_outline:verified"))}function B(o,t){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" ",r.signUpForm.get("phone_number").errors.phoneNumberValidator," ")}}const j=function(){return{length:4,allowNumbersOnly:!0}};function z(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",12)(1,"mat-label"),e._uU(2,"OTP"),e.qZA(),e.TgZ(3,"ng-otp-input",47),e.NdJ("onInputChange",function(s){e.CHM(r);const m=e.oxw();return e.KtG(m.onOtpChange(s))}),e.qZA(),e.TgZ(4,"mat-error"),e._uU(5),e.qZA()()}if(2&o){const r=e.oxw();e.xp6(3),e.Q6J("config",e.DdM(2,j)),e.xp6(2),e.hij(" ",r.otpHelperText," ")}}function H(o,t){1&o&&e._UZ(0,"mat-icon",48),2&o&&e.Q6J("svgIcon","heroicons_solid:eye")}function V(o,t){1&o&&e._UZ(0,"mat-icon",48),2&o&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function G(o,t){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" ",r.signUpForm.get("password").errors.passwordValidator," ")}}function D(o,t){1&o&&(e.TgZ(0,"span"),e._uU(1," Create your free account "),e.qZA())}function K(o,t){1&o&&e._UZ(0,"mat-progress-spinner",49),2&o&&e.Q6J("diameter",24)("mode","indeterminate")}const W=function(){return["/sign-in"]},x=function(){return["./"]};class u{constructor(t,r,a,s,m,$){this._authService=t,this._formBuilder=r,this._router=a,this.apiService=s,this._changeDetectorRef=m,this._snackBar=$,this.alert={type:"success",message:""},this.showAlert=!1,this.otpRequestLoading=!1,this.server_otp="",this.otp="",this.otpHelperText=""}ngOnInit(){this.signUpForm=this._formBuilder.group({first_name:["",i.kI.required],last_name:["",i.kI.required],email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,(0,w.y)()]],phone_number:["",[i.kI.required,(0,C.x)("phone number")]],number_verified:["",i.kI.requiredTrue],agreements:["",i.kI.requiredTrue]})}signUp(){!this.signUpForm.get("phone_number").hasError("phoneNumberValidator")&&!this.signUpForm.get("number_verified").valid&&this._snackBar.open("Please verified phone number.","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3,panelClass:["error-toast"]}),!this.signUpForm.invalid&&(this.signUpForm.disable(),this.showAlert=!1,console.log(this.signUpForm.value),this.apiService.registrationTeacher({email:this.signUpForm.value.email,password:this.signUpForm.value.password,first_name:this.signUpForm.value.first_name,last_name:this.signUpForm.value.last_name,phone_number:this.signUpForm.value.phone_number}).subscribe(t=>{console.log(t),t.data?this._router.navigateByUrl("/sign-in"):(console.log(t?.error?.message),"Email address already registered by another user"===t?.error?.message?(this.signUpForm.get("email").setErrors({serverError:t?.error?.message}),this._changeDetectorRef.markForCheck(),this.alert={type:"error",message:"Email address already registered by another user."},this.showAlert=!0):t?.error?.message?(this.signUpNgForm.resetForm(),this.alert={type:"error",message:t?.error?.message},this.showAlert=!0):(this.signUpNgForm.resetForm(),this.alert={type:"error",message:"Something went wrong, please try again."},this.showAlert=!0),window.scroll(0,0),this.signUpForm.enable())},t=>{console.log(t)}))}onOtpChange(t){4===t.length&&(t===this.server_otp?(this.otpHelperText="",this.signUpForm.get("number_verified").setValue(!0),this.otp=t):(this.otpHelperText="OTP incorrect.",this.signUpForm.get("number_verified").setValue(!1)))}requestToOTP(){var t=this;return(0,b.Z)(function*(){if(t.signUpForm.get("phone_number").valid)try{t.otpRequestLoading=!0,t.signUpForm.get("phone_number").disable();const r=yield t.apiService.sendOTP({to:`+91${t.signUpForm.get("phone_number").value}`});if(console.log(r),!r?.success||!r?.otp)throw new Error(r);t.server_otp=""+r.otp,t.otp="",t.signUpForm.get("number_verified").setValue(!1),t.otpRequestLoading=!1}catch(r){console.error(r),t._snackBar.open(r?.error?.message?r?.error?.message:"Something went wrong! Try again","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3,panelClass:["error-toast"]}),t.otpRequestLoading=!1,t.signUpForm.get("phone_number").enable(),t.signUpForm.get("number_verified").setValue(!1),t.server_otp="",t.otp=""}})()}}u.\u0275fac=function(t){return new(t||u)(e.Y36(F.e),e.Y36(i.QS),e.Y36(g.F0),e.Y36(I.s),e.Y36(e.sBO),e.Y36(q.ux))},u.\u0275cmp=e.Xpm({type:u,selectors:[["auth-teacher-sign-up"]],viewQuery:function(t,r){if(1&t&&e.Gf(J,5),2&t){let a;e.iGM(a=e.CRH())&&(r.signUpNgForm=a.first)}},decls:85,vars:31,consts:[[1,"flex","flex-col","sm:flex-row","items-center","md:items-start","sm:justify-center","md:justify-start","flex-auto","min-w-0"],[1,"md:flex","md:items-center","md:justify-end","w-full","sm:w-auto","md:h-full","md:w-1/2","py-8","px-4","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"flex"],["src","../../../../../assets/images/logo/UpaharLogo.png",1,"w-7","rounded-md","shadow-md"],[1,"text-[#6c315f]","ml-2","items-center","font-bold","text-[1.3rem]","logoText"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-[#b5245f]","hover:underline",3,"routerLink"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signUpNgForm","ngForm"],[1,"w-full"],["id","first_name","matInput","",3,"formControlName"],[4,"ngIf"],["id","last_name","matInput","",3,"formControlName"],["id","email","matInput","",3,"formControlName"],["matPrefix",""],["id","phone_number","type","tel","matInput","","Pattern","[0-9]{10}",3,"formControlName"],["class","text-[1rem] pr-2","mat-icon-button","","type","button","matSuffix","",3,"click",4,"ngIf"],["matSuffix","",4,"ngIf"],["class","w-full",4,"ngIf"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"inline-flex","items-end","w-full","mt-1.5"],[1,"-ml-2",3,"color","formControlName"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","bg-[#b5245f]","text-white",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"relative","hidden","md:flex","flex-auto","items-center","justify-center","w-1/2","h-full","p-16","lg:px-28","overflow-hidden","bg-gray-800","dark:border-l"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["viewBox","0 0 220 192","width","220","height","192","fill","none",1,"absolute","-top-16","-right-16","text-gray-700"],["id","837c3e70-6c3a-44e6-8854-cc48c737b659","x","0","y","0","width","20","height","20","patternUnits","userSpaceOnUse"],["x","0","y","0","width","4","height","4","fill","currentColor"],["width","220","height","192","fill","url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"],[1,"z-10","relative","w-full","max-w-2xl"],[1,"text-7xl","font-bold","leading-none","text-gray-100"],[1,"mt-6","text-lg","tracking-tight","leading-6","text-gray-400"],[1,"mt-8",3,"appearance","showIcon","type"],["mat-icon-button","","type","button","matSuffix","",1,"text-[1rem]","pr-2",3,"click"],["matSuffix",""],[1,"w-6","h-6","themeLoader"],[1,"icon-size-5","text-green-400",3,"svgIcon"],[1,"otpInputContainer",3,"config","onInputChange"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"p",5),e._uU(6,"Bizorclass"),e.qZA()(),e.TgZ(7,"div",6),e._uU(8,"Teacher Sign up"),e.qZA(),e.TgZ(9,"div",7)(10,"div"),e._uU(11,"Already have an account?"),e.qZA(),e.TgZ(12,"a",8),e._uU(13,"Sign in"),e.qZA()(),e.YNc(14,Q,2,5,"fuse-alert",9),e.TgZ(15,"form",10,11)(17,"mat-form-field",12)(18,"mat-label"),e._uU(19,"First name"),e.qZA(),e._UZ(20,"input",13),e.YNc(21,Y,2,0,"mat-error",14),e.qZA(),e.TgZ(22,"mat-form-field",12)(23,"mat-label"),e._uU(24,"Last name"),e.qZA(),e._UZ(25,"input",15),e.YNc(26,E,2,0,"mat-error",14),e.qZA(),e.TgZ(27,"mat-form-field",12)(28,"mat-label"),e._uU(29,"Email address"),e.qZA(),e._UZ(30,"input",16),e.YNc(31,P,2,0,"mat-error",14),e.YNc(32,k,2,0,"mat-error",14),e.YNc(33,L,2,1,"mat-error",14),e.qZA(),e.TgZ(34,"mat-form-field",12)(35,"mat-label"),e._uU(36,"Phone number"),e.qZA(),e.TgZ(37,"span",17),e._uU(38,"+91 \xa0"),e.qZA(),e._UZ(39,"input",18),e.YNc(40,O,2,0,"button",19),e.YNc(41,M,2,0,"div",20),e.YNc(42,R,2,1,"div",20),e.YNc(43,B,2,1,"mat-error",14),e.qZA(),e.YNc(44,z,6,3,"div",21),e.TgZ(45,"mat-form-field",12)(46,"mat-label"),e._uU(47,"Password"),e.qZA(),e._UZ(48,"input",22,23),e.TgZ(50,"button",24),e.NdJ("click",function(){e.CHM(a);const m=e.MAs(49);return e.KtG(m.type="password"===m.type?"text":"password")}),e.YNc(51,H,1,1,"mat-icon",25),e.YNc(52,V,1,1,"mat-icon",25),e.qZA(),e.YNc(53,G,2,1,"mat-error",14),e.qZA(),e.TgZ(54,"div",26)(55,"mat-checkbox",27)(56,"span"),e._uU(57,"I agree with"),e.qZA(),e.TgZ(58,"a",8),e._uU(59,"Terms "),e.qZA(),e.TgZ(60,"span"),e._uU(61,"and"),e.qZA(),e.TgZ(62,"a",8),e._uU(63,"Privacy Policy "),e.qZA()()(),e.TgZ(64,"button",28),e.NdJ("click",function(){return r.signUp()}),e.YNc(65,D,2,0,"span",14),e.YNc(66,K,1,2,"mat-progress-spinner",29),e.qZA()()()(),e.TgZ(67,"div",30),e.O4$(),e.TgZ(68,"svg",31)(69,"g",32),e._UZ(70,"circle",33)(71,"circle",34),e.qZA()(),e.TgZ(72,"svg",35)(73,"defs")(74,"pattern",36),e._UZ(75,"rect",37),e.qZA()(),e._UZ(76,"rect",38),e.qZA(),e.kcU(),e.TgZ(77,"div",39)(78,"div",40)(79,"div"),e._uU(80,"Welcome to"),e.qZA(),e.TgZ(81,"div"),e._uU(82,"our community"),e.qZA()(),e.TgZ(83,"div",41),e._uU(84," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quas quis voluptatum facere. Soluta facere voluptatem suscipit quibusdam excepturi eos quo sit, officia cumque non itaque alias ipsum blanditiis quos maiores? "),e.qZA()()()()}if(2&t){const a=e.MAs(49);e.xp6(12),e.Q6J("routerLink",e.DdM(28,W)),e.xp6(2),e.Q6J("ngIf",r.showAlert),e.xp6(1),e.Q6J("formGroup",r.signUpForm),e.xp6(5),e.Q6J("formControlName","first_name"),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("first_name").hasError("required")),e.xp6(4),e.Q6J("formControlName","last_name"),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("last_name").hasError("required")),e.xp6(4),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("email").hasError("email")),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("email").hasError("serverError")),e.xp6(6),e.Q6J("formControlName","phone_number"),e.xp6(1),e.Q6J("ngIf",!r.server_otp&&!r.otpRequestLoading),e.xp6(1),e.Q6J("ngIf",r.otpRequestLoading),e.xp6(1),e.Q6J("ngIf",r.server_otp&&r.otp&&r.server_otp===r.otp),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("phone_number").hasError("phoneNumberValidator")),e.xp6(1),e.Q6J("ngIf",r.server_otp&&r.server_otp!==r.otp),e.xp6(4),e.Q6J("formControlName","password"),e.xp6(3),e.Q6J("ngIf","password"===a.type),e.xp6(1),e.Q6J("ngIf","text"===a.type),e.xp6(1),e.Q6J("ngIf",r.signUpForm.get("password").hasError("passwordValidator")),e.xp6(2),e.Q6J("color","primary")("formControlName","agreements"),e.xp6(3),e.Q6J("routerLink",e.DdM(29,x)),e.xp6(4),e.Q6J("routerLink",e.DdM(30,x)),e.xp6(2),e.Q6J("disabled",r.signUpForm.disabled),e.xp6(1),e.Q6J("ngIf",!r.signUpForm.disabled),e.xp6(1),e.Q6J("ngIf",r.signUpForm.disabled)}},dependencies:[g.rH,c.lW,c.RK,d.oG,p.KE,p.hX,p.TO,p.qo,p.R9,f.Hw,U.Nt,v.Ou,S.W,T.df,N.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2,data:{animation:y.L}});const X=[{path:"",component:u}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[g.Bz.forChild(X),c.ot,d.p9,p.lN,f.Ps,U.c,v.Cq,_.J,Z.fC,T.Xz,A.m]})}}]);