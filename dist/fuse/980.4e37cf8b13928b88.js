"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[980],{7980:($,v,s)=>{s.r(v),s.d(v,{TeachersModule:()=>l});var m=s(4859),c=s(7274),C=s(7392),x=s(9299),f=s(5861),A=s(3172),e=s(4650),u=s(6895),M=s(4006),_=s(9549),y=s(4385),E=s(3238);function w(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",10),e._uU(2),e.qZA(),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function D(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",10),e._uU(2),e.qZA(),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function S(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",10),e._uU(2),e.qZA(),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("value",null==t?null:t.course_id),e.xp6(1),e.Oqu(null==t?null:t.title)}}function j(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",10),e._uU(2),e.qZA(),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("value",null==t?null:t.subject_id),e.xp6(1),e.Oqu(null==t?null:t.title)}}class g{constructor(n,t){this.dialogRef=n,this.data=t,this.selectedSubject=[],this.coursesAndSubjectsList=[],this.BoardList=A.C,this.LanguagesList=A.y}ngOnInit(){console.log(this.data),this.selectedLanguage=this.data.selectedLanguage,this.selectedBoard=this.data.selectedBoard,this.selectedCourse=this.data?.selectedCourse,this.selectedSubject=this.data?.selectedSubject,this.coursesAndSubjectsList=this.data?.coursesAndSubjectsList}onApply(){this.dialogRef.close({selectedLanguage:this.selectedLanguage,selectedBoard:this.selectedBoard,selectedCourse:this.selectedCourse,selectedSubject:this.selectedSubject})}getSubjectList(){return this.coursesAndSubjectsList?.find(n=>n.course_id===this.selectedCourse)?.subject||[]}}g.\u0275fac=function(n){return new(n||g)(e.Y36(c.so),e.Y36(c.WI))},g.\u0275cmp=e.Xpm({type:g,selectors:[["filter-dialog"]],decls:34,vars:22,consts:[[1,"mb-1rem","text-[1.5rem]","font-medium"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["multiple","",3,"ngModel","placeholder","spellcheck","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngModel","placeholder","spellcheck","ngModelChange"],["multiple","",3,"ngModel","placeholder","spellcheck","disabled","ngModelChange"],[1,"flex","flex-row","items-end"],["mat-button","","mat-dialog-close",""],["mat-button","","extended","","cdkFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._uU(1,"Filter"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),e._uU(6,"Language"),e.qZA(),e.TgZ(7,"mat-select",3),e.NdJ("ngModelChange",function(o){return t.selectedLanguage=o}),e.YNc(8,w,3,2,"ng-container",4),e.qZA(),e.TgZ(9,"mat-error"),e._uU(10," Language is required "),e.qZA()()(),e.TgZ(11,"div",1)(12,"mat-form-field",2)(13,"mat-label"),e._uU(14,"Education board"),e.qZA(),e.TgZ(15,"mat-select",3),e.NdJ("ngModelChange",function(o){return t.selectedBoard=o}),e.YNc(16,D,3,2,"ng-container",4),e.qZA()()(),e.TgZ(17,"div",1)(18,"mat-form-field",2)(19,"mat-label"),e._uU(20,"Course"),e.qZA(),e.TgZ(21,"mat-select",5),e.NdJ("ngModelChange",function(o){return t.selectedCourse=o}),e.YNc(22,S,3,2,"ng-container",4),e.qZA()()(),e.TgZ(23,"div",1)(24,"mat-form-field",2)(25,"mat-label"),e._uU(26,"Subject"),e.qZA(),e.TgZ(27,"mat-select",6),e.NdJ("ngModelChange",function(o){return t.selectedSubject=o}),e.YNc(28,j,3,2,"ng-container",4),e.qZA()()()(),e.TgZ(29,"mat-dialog-actions",7)(30,"button",8),e._uU(31,"Cancel"),e.qZA(),e.TgZ(32,"button",9),e.NdJ("click",function(){return t.onApply()}),e._uU(33," Apply "),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("ngModel",t.selectedLanguage)("placeholder","Language")("spellcheck",!1),e.xp6(1),e.Q6J("ngForOf",t.LanguagesList),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("ngModel",t.selectedBoard)("placeholder","Education board")("spellcheck",!1),e.xp6(1),e.Q6J("ngForOf",t.BoardList),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("ngModel",t.selectedCourse)("placeholder","Course")("spellcheck",!1),e.xp6(1),e.Q6J("ngForOf",t.coursesAndSubjectsList),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("ngModel",t.selectedSubject)("placeholder","Course")("spellcheck",!1)("disabled",!t.selectedCourse),e.xp6(1),e.Q6J("ngForOf",t.getSubjectList()),e.xp6(4),e.Q6J("mat-dialog-close",!0))},dependencies:[u.sg,M.JJ,M.On,c.ZT,c.xY,c.H8,m.lW,_.KE,_.hX,_.TO,y.gD,E.ey],styles:["mat-dialog-content[_ngcontent-%COMP%]{padding:0!important}mat-dialog-actions[_ngcontent-%COMP%]{padding:0!important}"]});var O=s(5830);function N(i,n){1&i&&(e.TgZ(0,"span"),e._uU(1,"Change"),e.qZA())}function k(i,n){if(1&i&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("( ",null==t?null:t.degree," )")}}function B(i,n){if(1&i&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.teacher_subject_description," ")}}const Z=function(i){return{fill:i}};function F(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"div",24),e.O4$(),e.TgZ(2,"svg",25),e._UZ(3,"path",26),e.qZA()(),e.BQk()),2&i){const t=n.$implicit,a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngStyle",e.VKq(1,Z,a.rating>=t?"gold":"currentColor"))}}function L(i,n){1&i&&(e.TgZ(0,"div",27),e.O4$(),e.TgZ(1,"svg",28),e._UZ(2,"path",29),e.qZA(),e.kcU(),e.TgZ(3,"p"),e._uU(4,"VACCINATED"),e.qZA()())}const H=function(){return[1,2,3,4,5]};function R(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){const r=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.goToTeacherDetails(r))}),e.TgZ(1,"div",11),e._UZ(2,"div",12),e.TgZ(3,"img",13),e.NdJ("error",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTeacherImgError(o))}),e.qZA()(),e.TgZ(4,"div",14)(5,"div"),e._uU(6),e.qZA(),e.YNc(7,k,2,1,"div",15),e.YNc(8,B,2,1,"div",16),e.TgZ(9,"div",17)(10,"div",18),e.YNc(11,F,4,3,"ng-container",19),e.qZA(),e.YNc(12,L,5,0,"div",20),e.qZA()(),e.TgZ(13,"div",21),e._uU(14),e._UZ(15,"br"),e._uU(16," Years "),e.qZA()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Jzz("background-image: url(",t.photo_url,");"),e.xp6(1),e.Q6J("src",t.photo_url,e.LSH),e.xp6(3),e.AsE("",t.first_name," ",t.last_name,""),e.xp6(1),e.Q6J("ngIf",null==t?null:t.degree),e.xp6(1),e.Q6J("ngIf",null==t?null:t.teacher_subject_description),e.xp6(3),e.Q6J("ngForOf",e.DdM(11,H)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.is_vaccinated),e.xp6(2),e.hij(" ",(null==t?null:t.year_experience)||0," ")}}class h{constructor(n,t,a,o){this.apiService=n,this._activatedRoute=t,this._router=a,this.dialog=o,this.selectedLanguage=[],this.selectedBoard=[],this.selectedSubject=[],this._activatedRoute.params.subscribe(r=>{this.subjectId=r.subject_id,this.orderId=r.orderId,console.log(this.subjectId),this.getTeacherListFromServer()})}getTeacherListFromServer(){var n=this;return(0,f.Z)(function*(){n.coursesAndSubjectsList||(yield n.getAllCourseWithSubjectFromServer()),n.apiService.getTeacherListWithFilter(n.selectedLanguage,n.selectedBoard,n.selectedSubject).subscribe(function(){var t=(0,f.Z)(function*(a){if(console.log(a),a?.data){let o=a?.data;n?.selectedSubject?.length>0&&(o=a?.data.filter(r=>r["teacher-subject"].length>0)),n.teacherList=o.map(r=>({...r,rating:Math.round(r.review.reduce((p,b)=>p+b.rating_star||0,0)/r.review?.length||0)})),console.log("teacherList => ",n.teacherList)}});return function(a){return t.apply(this,arguments)}}(),t=>{console.log(t)})})()}getAllCourseWithSubjectFromServer(){var n=this;return(0,f.Z)(function*(){const t=yield n.apiService.getAllCourseWithSubjectForStudent();if(t?.data&&(n.coursesAndSubjectsList=t.data,n.subjectId)){let a=n.coursesAndSubjectsList.map(o=>o.subject).flat().find(o=>o.subject_id===n.subjectId);n.selectedCourse=a.course_id,n.selectedSubject=[a.subject_id]}console.log("this.coursesAndSubjectsList => ",n.coursesAndSubjectsList)})()}goToTeacherDetails(n){this._router.navigate(this.orderId?["student","change-teacher",this.orderId,"teachers",n.teacher_id]:["student","teachers",n.teacher_id])}openFilterDialog(){this.dialog.open(g,{width:"90%",maxWidth:"unset",panelClass:"teacherFilterClass",data:{selectedLanguage:this.selectedLanguage,selectedBoard:this.selectedBoard,selectedCourse:this.selectedCourse,selectedSubject:this.selectedSubject,coursesAndSubjectsList:this.coursesAndSubjectsList}}).afterClosed().subscribe(t=>{t&&(console.log(t),this.selectedLanguage=t.selectedLanguage,this.selectedBoard=t.selectedBoard,this.selectedCourse=t.selectedCourse,this.selectedSubject=t.selectedSubject,this.getTeacherListFromServer())})}onTeacherImgError(n){n.target.src="../../../../assets/images/avatars/dummy user.png"}}h.\u0275fac=function(n){return new(n||h)(e.Y36(O.s),e.Y36(x.gz),e.Y36(x.F0),e.Y36(c.uw))},h.\u0275cmp=e.Xpm({type:h,selectors:[["teachers"]],decls:11,vars:3,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-4","md:p-10","flex","flex-col"],[1,"flex-[1]","rounded-md","w-full"],[1,"teacherCardWrapper"],[1,"flex","flex-row","justify-between"],[1,"text-[1.5rem]","font-bold"],[4,"ngIf"],["mat-icon-button","",3,"click"],[3,"svgIcon"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],[1,"cardBox",3,"click"],[1,"teacherImageWrapper"],[1,"teacherBackgroundImage"],["alt","",1,"teacherImage",3,"src","error"],[1,"teacherName","text-white"],["class","text-[0.7rem]",4,"ngIf"],["class","text-[0.7rem] teacherSubjectSortDescription",4,"ngIf"],[1,"startVaccineWrapper"],[1,"StarWrapper"],[4,"ngFor","ngForOf"],["class","vaccinatedWrapper",4,"ngIf"],[1,"teacherExperience","text-black"],[1,"text-[0.7rem]"],[1,"text-[0.7rem]","teacherSubjectSortDescription"],[3,"ngStyle"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","inherit",1,"w-3","h-3"],["fill-rule","evenodd","d","M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule","evenodd"],[1,"vaccinatedWrapper"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e.YNc(6,N,2,0,"span",6),e._uU(7," Teachers"),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return t.openFilterDialog()}),e._UZ(9,"mat-icon",8),e.qZA()(),e.YNc(10,R,17,12,"div",9),e.qZA()()()()),2&n&&(e.xp6(6),e.Q6J("ngIf",t.orderId),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:filter"),e.xp6(1),e.Q6J("ngForOf",t.teacherList))},dependencies:[u.sg,u.O5,u.PC,C.Hw,m.RK],styles:[".teacherCardWrapper{display:flex;flex-direction:column;flex-wrap:wrap}.teacherCardWrapper .cardBox{padding:.5rem;margin:5px 0;border-radius:10px;display:flex;flex-direction:row;background:var(--color-light)!important}.teacherCardWrapper .cardBox .ratingChip{width:-moz-fit-content;width:fit-content;border-radius:34px;padding:4px .8rem;font-size:.8rem;margin-top:5px}.teacherCardWrapper .cardBox .teacherName{display:flex;flex-direction:column;justify-content:space-between;font-size:1rem;margin:0 10px;padding:5px 0;text-align:center;flex:1}.teacherCardWrapper .cardBox .teacherName .board{overflow-wrap:anywhere}.teacherCardWrapper .cardBox .teacherName .startVaccineWrapper{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.teacherCardWrapper .cardBox .teacherName .startVaccineWrapper .StarWrapper{display:flex;flex-direction:row;flex-wrap:nowrap;margin:5px 0}.teacherCardWrapper .cardBox .teacherName .startVaccineWrapper .vaccinatedWrapper{display:flex;align-items:center;flex-direction:row;background:rgba(129,195,85,.8117647059);width:-moz-fit-content;width:fit-content;padding:3px 8px 3px 5px;border-radius:19px;margin:5px 0}.teacherCardWrapper .cardBox .teacherName .startVaccineWrapper .vaccinatedWrapper p{font-size:.5rem;margin-left:2px}.teacherCardWrapper .cardBox .teacherName .teacherSubjectSortDescription{box-sizing:border-box;position:relative;overflow:hidden;padding:0 5px;float:left}.teacherCardWrapper .cardBox .teacherImageWrapper{position:relative;overflow:hidden;border-radius:5px;margin-top:.5rem;width:80px;height:80px}.teacherCardWrapper .cardBox .teacherImageWrapper .teacherBackgroundImage{width:100%;height:100%;position:absolute;z-index:0;background-repeat:no-repeat;background-size:cover;filter:blur(10px)}.teacherCardWrapper .cardBox .teacherImageWrapper .teacherImage{width:80px;height:80px;position:relative;z-index:1;border-radius:5px;object-fit:contain}.teacherCardWrapper .cardBox .teacherExperience{background:#ffffff;border-radius:10px;padding:.5rem;display:flex;justify-content:center;align-items:center;text-align:center}\n"],encapsulation:2});var Q=s(4466);let W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var J=s(4080);s(7340);let U=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,E.BQ,W,J.eL]}),i})();const q=[{path:"",component:h}];class l{}l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[x.Bz.forChild(q),Q.m,C.Ps,c.Is,m.ot,U,y.LD]})}}]);