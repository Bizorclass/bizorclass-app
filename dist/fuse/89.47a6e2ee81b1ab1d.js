"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[89],{6236:(k,T,a)=>{a.d(T,{J:()=>f});var g=a(1281),j=a(8288),i=a(4650),m=a(6895);function C(d,c){1&d&&(i.ynx(0),i.TgZ(1,"div",1),i.Hsn(2),i.qZA(),i.TgZ(3,"div",2),i.Hsn(4,1),i.qZA(),i.BQk())}function w(d,c){1&d&&(i.TgZ(0,"div",4),i.Hsn(1,3),i.qZA()),2&d&&i.Q6J("@expandCollapse",void 0)}function S(d,c){if(1&d&&(i.ynx(0),i.Hsn(1,2),i.YNc(2,w,2,1,"div",3),i.BQk()),2&d){const s=i.oxw();i.xp6(2),i.Q6J("ngIf",s.expanded)}}const Q=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]];class h{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,g.Ig)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,g.Ig)(c.flippable.currentValue))}}h.\u0275fac=function(c){return new(c||h)},h.\u0275cmp=i.Xpm({type:h,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(c,s){2&c&&i.Tol(s.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[i.TTD],ngContentSelectors:["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"],decls:2,vars:2,consts:[[4,"ngIf"],[1,"fuse-card-front"],[1,"fuse-card-back"],["class","fuse-card-expansion",4,"ngIf"],[1,"fuse-card-expansion"]],template:function(c,s){1&c&&(i.F$t(Q),i.YNc(0,C,5,0,"ng-container",0),i.YNc(1,S,3,1,"ng-container",0)),2&c&&(i.Q6J("ngIf",s.flippable),i.xp6(1),i.Q6J("ngIf",!s.flippable))},dependencies:[m.O5],styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;-webkit-backface-visibility:hidden;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:j.L}});class f{}f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=i.oAB({type:f}),f.\u0275inj=i.cJS({imports:[m.ez]})},8089:(k,T,a)=>{a.r(T),a.d(T,{ProfileModule:()=>b});var g=a(9299),j=a(4859),i=a(4850),m=a(9549),C=a(7392),w=a(284),S=a(8255),Q=a(266),U=a(6236),h=a(4466),f=a(6709),d=a(4385),c=a(5861),s=a(4006),F=a(7579),I=a(2722),e=a(4650),q=a(5830),N=a(7401),P=a(877),Y=a(8184),M=a(1481),z=a(7009),J=a(1948),A=a(9602),B=a(6895);const H=["avatarFileInput"];function R(r,n){if(1&r&&e._UZ(0,"img",14),2&r){const t=e.oxw(2);e.Q6J("src",null==t.studentObject?null:t.studentObject.photo_url,e.LSH)}}function E(r,n){if(1&r&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.studentObject||null==t.studentObject.first_name?null:t.studentObject.first_name.charAt(0)," ")}}function L(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",18)(4,"div",19)(5,"a",20),e._uU(6),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:mail"),e.xp6(3),e.Q6J("href","mailto:"+(null==t.studentObject?null:t.studentObject.email),e.LSH),e.xp6(1),e.hij(" ",null==t.studentObject?null:t.studentObject.email," ")}}function D(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:menu-alt-2"),e.xp6(2),e.hij(" ",null==t.studentObject?null:t.studentObject.about_you," ")}}function G(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:calculator"),e.xp6(2),e.hij(" ",null==t.studentObject?null:t.studentObject.age," ")}}function V(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:home"),e.xp6(2),e.hij(" ",null==t.studentObject?null:t.studentObject.home_address," ")}}function W(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:phone"),e.xp6(2),e.hij(" ",null==t.studentObject?null:t.studentObject.phone_number," ")}}function K(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:academic-cap"),e.xp6(2),e.hij(" ",null==t.studentObject?null:t.studentObject.school_name," ")}}function X(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),e.YNc(5,R,1,1,"img",6),e.YNc(6,E,2,1,"div",7),e.qZA(),e.TgZ(7,"div",8)(8,"button",9),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleEditMode(!0))}),e._UZ(9,"mat-icon",10),e.TgZ(10,"span",11),e._uU(11,"Edit"),e.qZA()()()(),e.TgZ(12,"div",12),e._uU(13),e.qZA(),e.TgZ(14,"div",13),e.YNc(15,L,7,3,"ng-container",1),e.YNc(16,D,5,2,"ng-container",1),e.YNc(17,G,5,2,"ng-container",1),e.YNc(18,V,5,2,"ng-container",1),e.YNc(19,W,5,2,"ng-container",1),e.YNc(20,K,5,2,"ng-container",1),e.qZA()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.photo_url),e.xp6(1),e.Q6J("ngIf",!(null!=t.studentObject&&t.studentObject.photo_url)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil-alt"),e.xp6(4),e.AsE(" ",null==t.studentObject?null:t.studentObject.first_name," ",null==t.studentObject?null:t.studentObject.last_name," "),e.xp6(2),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.email),e.xp6(1),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.about_you),e.xp6(1),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.age),e.xp6(1),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.home_address),e.xp6(1),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.phone_number),e.xp6(1),e.Q6J("ngIf",null==t.studentObject?null:t.studentObject.school_name)}}function $(r,n){if(1&r&&e._UZ(0,"img",14),2&r){const t=e.oxw(2);e.Q6J("src",t.avatarObject?t.imageFileTOString(t.avatarObject):null==t.studentObject?null:t.studentObject.photo_url,e.LSH)}}function ee(r,n){if(1&r&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.studentObject?null:t.studentObject.first_name.charAt(0)," ")}}function te(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Email address is required "),e.qZA())}function ne(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function oe(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",22)(2,"div",3)(3,"form",23)(4,"div",24)(5,"div",25),e._UZ(6,"div",26),e.TgZ(7,"div",27)(8,"div")(9,"input",28,29),e.NdJ("change",function(){e.CHM(t);const l=e.MAs(10),u=e.oxw();return e.KtG(u.uploadAvatar(l.files))}),e.qZA(),e.TgZ(11,"label",30),e._UZ(12,"mat-icon",31),e.qZA()()(),e.YNc(13,$,1,1,"img",6),e.YNc(14,ee,2,1,"div",7),e.qZA()(),e.TgZ(15,"div",32)(16,"mat-form-field",33)(17,"mat-label"),e._uU(18,"First Name"),e.qZA(),e._UZ(19,"mat-icon",34)(20,"input",35),e.TgZ(21,"mat-error"),e._uU(22," First name is required "),e.qZA()()(),e.TgZ(23,"div",32)(24,"mat-form-field",33)(25,"mat-label"),e._uU(26,"Last Name"),e.qZA(),e._UZ(27,"mat-icon",34)(28,"input",35),e.TgZ(29,"mat-error"),e._uU(30," Last name is required "),e.qZA()()(),e.TgZ(31,"div",32)(32,"mat-form-field",33)(33,"mat-label"),e._uU(34,"Email"),e.qZA(),e._UZ(35,"mat-icon",34)(36,"input",36),e.YNc(37,te,2,0,"mat-error",1),e.YNc(38,ne,2,0,"mat-error",1),e.qZA()(),e.TgZ(39,"div",32)(40,"mat-form-field",37)(41,"mat-label"),e._uU(42,"Date Of Birth"),e.qZA(),e.TgZ(43,"input",38),e.NdJ("focus",function(){e.CHM(t);const l=e.MAs(46);return e.KtG(l.open())}),e.qZA(),e._UZ(44,"mat-datepicker-toggle",39)(45,"mat-datepicker",null,40),e.TgZ(47,"mat-error"),e._uU(48," Gender is required "),e.qZA()()(),e.TgZ(49,"div",32)(50,"mat-form-field",33)(51,"mat-label"),e._uU(52,"Home Address"),e.qZA(),e._UZ(53,"input",41),e.TgZ(54,"mat-error"),e._uU(55," Home Address is required "),e.qZA()()(),e.TgZ(56,"div",32)(57,"mat-form-field",33)(58,"mat-label"),e._uU(59,"About description"),e.qZA(),e._UZ(60,"textarea",41),e.TgZ(61,"mat-error"),e._uU(62," About description is required "),e.qZA()()(),e.TgZ(63,"div",32)(64,"mat-form-field",33)(65,"mat-label"),e._uU(66,"Father name"),e.qZA(),e._UZ(67,"input",41),e.TgZ(68,"mat-error"),e._uU(69," Father name is required "),e.qZA()()(),e.TgZ(70,"div",32)(71,"mat-form-field",33)(72,"mat-label"),e._uU(73,"Mother name"),e.qZA(),e._UZ(74,"input",41),e.TgZ(75,"mat-error"),e._uU(76," Mother name is required "),e.qZA()()(),e.TgZ(77,"div",32)(78,"mat-form-field",42)(79,"mat-label"),e._uU(80,"Gender"),e.qZA(),e._UZ(81,"input",43),e.TgZ(82,"mat-radio-group",44)(83,"mat-radio-button",45),e._uU(84," Male "),e.qZA(),e.TgZ(85,"mat-radio-button",46),e._uU(86," Female "),e.qZA()(),e.TgZ(87,"mat-error"),e._uU(88," Gender is required "),e.qZA()()(),e.TgZ(89,"div",32)(90,"mat-form-field",33)(91,"mat-label"),e._uU(92,"Phone Number"),e.qZA(),e._UZ(93,"input",41),e.TgZ(94,"mat-error"),e._uU(95," Phone number is required "),e.qZA()()(),e.TgZ(96,"div",32)(97,"mat-form-field",33)(98,"mat-label"),e._uU(99,"Parent Phone Number"),e.qZA(),e._UZ(100,"input",41),e.TgZ(101,"mat-error"),e._uU(102," Parent phone number is required "),e.qZA()()(),e.TgZ(103,"div",32)(104,"mat-form-field",33)(105,"mat-label"),e._uU(106,"School name"),e.qZA(),e._UZ(107,"input",41),e.TgZ(108,"mat-error"),e._uU(109," School name is required "),e.qZA()()(),e.TgZ(110,"div",32)(111,"mat-form-field",33)(112,"mat-label"),e._uU(113,"Class"),e.qZA(),e._UZ(114,"input",41),e.TgZ(115,"mat-error"),e._uU(116," Class is required "),e.qZA()()(),e.TgZ(117,"div",32)(118,"mat-form-field",33)(119,"mat-label"),e._uU(120,"Roll no"),e.qZA(),e._UZ(121,"input",47),e.TgZ(122,"mat-error"),e._uU(123," Roll no is required "),e.qZA()()(),e.TgZ(124,"div",48)(125,"button",49),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(null!=l.studentObject&&l.studentObject.student_id?l.toggleEditMode(!1):l.goBack())}),e._uU(126," Cancel "),e.qZA(),e.TgZ(127,"button",50),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.updateContact())}),e._uU(128," Save "),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.MAs(46),o=e.oxw();e.xp6(3),e.Q6J("formGroup",o.teacherForm),e.xp6(6),e.Q6J("multiple",!1)("accept","image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("ngIf",o.avatarObject||(null==o.studentObject?null:o.studentObject.photo_url)),e.xp6(1),e.Q6J("ngIf",!(null!=o.studentObject&&o.studentObject.photo_url)),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:user-circle"),e.xp6(1),e.Q6J("formControlName","first_name")("placeholder","First Name")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:user-circle"),e.xp6(1),e.Q6J("formControlName","last_name")("placeholder","Last Name")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControlName","email")("placeholder","Email address")("spellcheck",!1),e.xp6(1),e.Q6J("ngIf",o.teacherForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.teacherForm.get("email").hasError("email")),e.xp6(5),e.Q6J("matDatepicker",t)("formControlName","dob"),e.xp6(1),e.Q6J("for",t),e.xp6(6),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","home_address")("placeholder","Home Address")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","about_you")("placeholder","About description")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","father_name")("placeholder","Father name")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","mother_name")("placeholder","Mother name")("spellcheck",!1),e.xp6(7),e.Q6J("formControlName","gender"),e.xp6(1),e.Q6J("formControlName","gender"),e.xp6(8),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","phone_number")("placeholder","Phone number")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","parent_phone_number")("placeholder","Parent phone number")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","school_name")("placeholder","School name")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","class")("placeholder","Class")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","roll_no")("placeholder","Roll no")("spellcheck",!1),e.xp6(4),e.Q6J("matTooltip","Cancel"),e.xp6(2),e.Q6J("disabled",o.teacherForm.invalid)("color","primary")("matTooltip","Save")}}class x{constructor(n,t,o,l,u,p,_,v,Z,y,ie){this._activatedRoute=n,this._changeDetectorRef=t,this.apiService=o,this._formBuilder=l,this._fuseConfirmationService=u,this._authService=p,this._router=_,this._overlay=v,this._viewContainerRef=Z,this.domSanitizer=y,this._snackBar=ie,this.editMode=!1,this.serverCoursesAndSubject=[],this.avatarObject=null,this.user=null,this._unsubscribeAll=new F.x,this._authService.user.pipe((0,I.R)(this._unsubscribeAll)).subscribe(O=>{this.user=O,O&&O?.student_id&&this.getStudentFromServer()})}ngOnInit(){this.resetTeacherForm()}resetTeacherForm(){this.teacherForm&&(this.teacherForm=null),this.teacherForm=this._formBuilder.group({about_you:["",s.kI.required],email:["",[s.kI.required,s.kI.email]],first_name:["",s.kI.required],last_name:["",s.kI.required],home_address:["",s.kI.required],parent_phone_number:["",s.kI.required],phone_number:["",s.kI.required],roll_no:["",s.kI.required],school_name:["",s.kI.required],father_name:["",s.kI.required],mother_name:["",s.kI.required],gender:["",s.kI.required],dob:["",s.kI.required],class:["",s.kI.required]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getStudentFromServer(){var n=this;this.apiService.getStudentById(this.user.student_id).subscribe(function(){var t=(0,c.Z)(function*(o){if(o.data){n.toggleEditMode(!1);let l=Array.isArray(o.data)?o.data[0]:o.data;l.subjects=l["teacher-subject"],delete l["teacher-subject"],n.studentObject=l,n._changeDetectorRef.markForCheck(),console.log(n.studentObject),n.resetTeacherForm()}});return function(o){return t.apply(this,arguments)}}(),t=>{console.log(t)})}isCheckedSubject(n,t){return Boolean(t.value.find(o=>o.subject_id===n.subject_id))}isPriceSubject(n,t){return t.value.find(o=>o.subject_id===n.subject_id)?.price||""}setPriceSubject(n,t,o){return this.teacherForm.get("subjects").controls?.find(l=>l.value.subject_id===n.subject_id)?.get("price")||null}toggleEditMode(n=null){null===n?this.editMode=!this.editMode:(this.editMode=n,this.studentObject&&(this.teacherForm.patchValue({...this.studentObject}),this.teacherForm.get("email")?.disable(),this.teacherForm.get("phone_number")?.disable())),console.log(this.teacherForm),this._changeDetectorRef.markForCheck()}updateContact(){var n=this;return(0,c.Z)(function*(){console.log(n.teacherForm);const t=n.teacherForm.getRawValue();console.log(t);let o={student_id:n.user.student_id,first_name:n.capitalizeFirstLetter(t.first_name),last_name:n.capitalizeFirstLetter(t.last_name),about_you:t?.about_you||"",home_address:t?.home_address||"",parent_phone_number:t?.parent_phone_number||"",phone_number:t?.phone_number||"",roll_no:t?.roll_no||"",school_name:t?.school_name||"",father_name:t?.father_name||"",mother_name:t?.mother_name||"",gender:t?.gender||"",dob:t?.dob||"",class:t?.class||""};n.updateTeacherQuery(o,t.subjects)})()}updateTeacherQuery(n,t){var o=this;console.log({_subjects:t}),this.apiService.updateStudent(n).subscribe(function(){var l=(0,c.Z)(function*(u){console.log(u);let p=!1;if(u.data)if(o.avatarObject){const _=yield o.convertImageFileToWebpFile(o.avatarObject);let v=new FormData;v.append("photo",_,`${u.data.student_id}.webp`),v.append("id",u.data.student_id),o.apiService.studentUploadImage(v).subscribe(function(){var Z=(0,c.Z)(function*(y){console.log(y),y.data&&(p||(p=!0,o.toggleEditMode(!1),o.getStudentFromServer(),o._snackBar.open("Profile update successfully.","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3,panelClass:["success-toast"]}),o._changeDetectorRef.markForCheck()),o._authService.user=u?.data)});return function(y){return Z.apply(this,arguments)}}(),Z=>{console.log(Z)})}else o._authService.user=u?.data,o._snackBar.open("Profile update successfully.","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3,panelClass:["success-toast"]}),o._changeDetectorRef.markForCheck()});return function(u){return l.apply(this,arguments)}}(),l=>{console.log(l)})}deleteContact(){this._fuseConfirmationService.open({title:"Delete studentObject",message:"Are you sure you want to delete this studentObject? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(t=>{})}goBack(){this._router.navigate(["../"],{relativeTo:this._activatedRoute})}uploadAvatar(n){if(!n.length)return;const o=n[0];!["image/jpeg","image/png"].includes(o.type)||(console.log("file -> ",o),this.avatarObject=o)}removeAvatar(){}imageFileTOString(n){return"string"==typeof n?n:this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(n))}capitalizeFirstLetter(n){return n[0].toUpperCase()+n.slice(1).toLowerCase()}convertImageFileToWebpFile(n){return new Promise((t,o)=>{const l=new Image;l.onload=()=>{const u=document.createElement("canvas");u.width=l.naturalWidth,u.height=l.naturalHeight,u.getContext("2d").drawImage(l,0,0),u.toBlob(p=>{let _=new File([p],"my-new-group-image.webp",{type:p.type});t(_)},"image/webp")},l.crossOrigin="anonymous",l.src=URL.createObjectURL(n)})}}x.\u0275fac=function(n){return new(n||x)(e.Y36(g.gz),e.Y36(e.sBO),e.Y36(q.s),e.Y36(s.QS),e.Y36(N.R),e.Y36(P.e),e.Y36(g.F0),e.Y36(Y.aV),e.Y36(e.s_b),e.Y36(M.H7),e.Y36(z.ux))},x.\u0275cmp=e.Xpm({type:x,selectors:[["student-profile"]],viewQuery:function(n,t){if(1&n&&e.Gf(H,5),2&n){let o;e.iGM(o=e.CRH())&&(t._avatarFileInput=o.first)}},decls:3,vars:2,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end","mt-4"],[1,"flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","flex-col","mt-4","pt-6","border-t","space-y-8"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex"],[3,"svgIcon"],[1,"min-w-0","ml-6","space-y-1"],[1,"flex","items-center","leading-6"],["target","_blank",1,"hover:underline","text-primary-500",3,"href"],[1,"max-w-none","ml-6","prose","prose-sm"],[1,"relative","flex","flex-col","flex-auto","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"flex","flex-auto","justify-center","items-end","mt-4"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],["matInput","","type","email",3,"formControlName","placeholder","spellcheck"],[1,"w-full"],["matInput","","disabled","",3,"matDatepicker","formControlName","focus"],["matIconSuffix","",3,"for"],["dobRef",""],["matInput","","type","text",3,"formControlName","placeholder","spellcheck"],[1,"w-full","radioWrapper"],["id","gender","matInput","",2,"display","none",3,"formControlName"],[1,"flex","flex-row",3,"formControlName"],["value","male",1,"mb-2"],["value","female",1,"mb-2"],["matInput","","min","0","type","number",3,"formControlName","placeholder","spellcheck"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"disabled","color","matTooltip","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,X,21,11,"ng-container",1),e.YNc(2,oe,129,68,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",!t.editMode),e.xp6(1),e.Q6J("ngIf",t.editMode))},dependencies:[j.lW,m.KE,m.hX,m.TO,m.qo,m.R9,C.Hw,w.Nt,Q.gM,J.VQ,J.U0,A.Mq,A.hl,A.nW,B.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.sg,s.u],styles:[".radioWrapper .mat-mdc-text-field-wrapper{background-color:transparent!important}.radioWrapper mat-radio-button.mat-mdc-radio-checked .mdc-radio__background>div{border-color:var(--color-light)!important}\n"],encapsulation:2,changeDetection:0});const re=[{path:"",component:x}];var ae=a(3238);class b{}b.\u0275fac=function(n){return new(n||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[g.Bz.forChild(re),j.ot,f.p9,i.t,m.lN,C.Ps,w.c,S.Tx,Q.AV,d.LD,U.J,J.Fk,A.FA,ae.XK,h.m]})}}]);