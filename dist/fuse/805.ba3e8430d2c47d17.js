"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[805],{6236:(N,y,c)=>{c.d(y,{J:()=>m});var b=c(1281),j=c(8288),l=c(4650),h=c(6895);function C(i,u){1&i&&(l.ynx(0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l.TgZ(3,"div",2),l.Hsn(4,1),l.qZA(),l.BQk())}function w(i,u){1&i&&(l.TgZ(0,"div",4),l.Hsn(1,3),l.qZA()),2&i&&l.Q6J("@expandCollapse",void 0)}function k(i,u){if(1&i&&(l.ynx(0),l.Hsn(1,2),l.YNc(2,w,2,1,"div",3),l.BQk()),2&i){const _=l.oxw();l.xp6(2),l.Q6J("ngIf",_.expanded)}}const F=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]];class x{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(u){"expanded"in u&&(this.expanded=(0,b.Ig)(u.expanded.currentValue)),"flippable"in u&&(this.flippable=(0,b.Ig)(u.flippable.currentValue))}}x.\u0275fac=function(u){return new(u||x)},x.\u0275cmp=l.Xpm({type:x,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(u,_){2&u&&l.Tol(_.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[l.TTD],ngContentSelectors:["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"],decls:2,vars:2,consts:[[4,"ngIf"],[1,"fuse-card-front"],[1,"fuse-card-back"],["class","fuse-card-expansion",4,"ngIf"],[1,"fuse-card-expansion"]],template:function(u,_){1&u&&(l.F$t(F),l.YNc(0,C,5,0,"ng-container",0),l.YNc(1,k,3,1,"ng-container",0)),2&u&&(l.Q6J("ngIf",_.flippable),l.xp6(1),l.Q6J("ngIf",!_.flippable))},dependencies:[h.O5],styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;-webkit-backface-visibility:hidden;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:j.L}});class m{}m.\u0275fac=function(u){return new(u||m)},m.\u0275mod=l.oAB({type:m}),m.\u0275inj=l.cJS({imports:[h.ez]})},8805:(N,y,c)=>{c.r(y),c.d(y,{ProfileModule:()=>v});var b=c(9299),j=c(4859),l=c(4850),h=c(9549),C=c(7392),w=c(284),k=c(8255),F=c(266),O=c(6236),x=c(4466),m=c(5861),i=c(4006),u=c(7759),_=c(7579),q=c(2722),A=c(3172),e=c(4650),P=c(5830),Y=c(7401),B=c(877),L=c(8184),E=c(1481),z=c(7009),J=c(6709),I=c(4385),M=c(3238),U=c(455),S=c(6895);const R=["avatarFileInput"];function D(r,n){if(1&r&&e._UZ(0,"img",14),2&r){const t=e.oxw(2);e.Q6J("src",null==t.teacherObject?null:t.teacherObject.photo_url,e.LSH)}}function H(r,n){if(1&r&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.teacherObject||null==t.teacherObject.first_name?null:t.teacherObject.first_name.charAt(0)," ")}}function G(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",18)(4,"div",19)(5,"a",20),e._uU(6),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:mail"),e.xp6(3),e.Q6J("href","mailto:"+(null==t.teacherObject?null:t.teacherObject.email),e.LSH),e.xp6(1),e.hij(" ",null==t.teacherObject?null:t.teacherObject.email," ")}}function V(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:menu-alt-2"),e.xp6(2),e.hij(" ",null==t.teacherObject?null:t.teacherObject.about_description," ")}}function $(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:academic-cap"),e.xp6(2),e.hij(" ",null==t.teacherObject?null:t.teacherObject.degree," ")}}function K(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:briefcase"),e.xp6(2),e.hij(" ",null==t.teacherObject?null:t.teacherObject.year_experience," Year ")}}function W(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",21),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:home"),e.xp6(2),e.hij(" ",null==t.teacherObject?null:t.teacherObject.city," ")}}function X(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div",23),e._uU(3),e.qZA(),e.TgZ(4,"div",24)(5,"span",25),e._uU(6,"\u2022"),e.qZA(),e.TgZ(7,"span",26),e._uU(8),e.qZA()()(),e.BQk()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("matTooltip","Course Name"),e.xp6(1),e.hij(" ",null==t||null==t.subject_id?null:t.subject_id.course_id.title," "),e.xp6(4),e.Q6J("matTooltip","Subject Name"),e.xp6(1),e.Oqu(null==t||null==t.subject_id?null:t.subject_id.title)}}function ee(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",18),e.YNc(4,X,9,4,"ng-container",22),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:book-open"),e.xp6(2),e.Q6J("ngForOf",null==t.teacherObject?null:t.teacherObject.subjects)("ngForTrackBy",t.trackByFn)}}function te(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div",23),e._uU(3),e.qZA()(),e.BQk()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("matTooltip","Course Name"),e.xp6(1),e.hij(" ",t," ")}}function ne(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",18),e.YNc(4,te,4,2,"ng-container",22),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:book-open"),e.xp6(2),e.Q6J("ngForOf",null==t.teacherObject?null:t.teacherObject.board)("ngForTrackBy",t.trackByFn)}}function re(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div",23),e._uU(3),e.qZA()(),e.BQk()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("matTooltip","Course Name"),e.xp6(1),e.hij(" ",t," ")}}function oe(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16),e._UZ(2,"mat-icon",17),e.TgZ(3,"div",18),e.YNc(4,re,4,2,"ng-container",22),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("svgIcon","heroicons_outline:globe-alt"),e.xp6(2),e.Q6J("ngForOf",null==t.teacherObject?null:t.teacherObject.language)("ngForTrackBy",t.trackByFn)}}function ae(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),e.YNc(5,D,1,1,"img",6),e.YNc(6,H,2,1,"div",7),e.qZA(),e.TgZ(7,"div",8)(8,"button",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleEditMode(!0))}),e._UZ(9,"mat-icon",10),e.TgZ(10,"span",11),e._uU(11,"Edit"),e.qZA()()()(),e.TgZ(12,"div",12),e._uU(13),e.qZA(),e.TgZ(14,"div",13),e.YNc(15,G,7,3,"ng-container",1),e.YNc(16,V,5,2,"ng-container",1),e.YNc(17,$,5,2,"ng-container",1),e.YNc(18,K,5,2,"ng-container",1),e.YNc(19,W,5,2,"ng-container",1),e.YNc(20,ee,5,3,"ng-container",1),e.YNc(21,ne,5,3,"ng-container",1),e.YNc(22,oe,5,3,"ng-container",1),e.qZA()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.photo_url),e.xp6(1),e.Q6J("ngIf",!(null!=t.teacherObject&&t.teacherObject.photo_url)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil-alt"),e.xp6(4),e.AsE(" ",null==t.teacherObject?null:t.teacherObject.first_name," ",null==t.teacherObject?null:t.teacherObject.last_name," "),e.xp6(2),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.email),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.about_description),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.degree),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.year_experience),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.city),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject?null:t.teacherObject.subjects.length),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject||null==t.teacherObject.board?null:t.teacherObject.board.length),e.xp6(1),e.Q6J("ngIf",null==t.teacherObject||null==t.teacherObject.language?null:t.teacherObject.language.length)}}function ie(r,n){if(1&r&&e._UZ(0,"img",14),2&r){const t=e.oxw(2);e.Q6J("src",t.avatarObject?t.imageFileTOString(t.avatarObject):null==t.teacherObject?null:t.teacherObject.photo_url,e.LSH)}}function ce(r,n){if(1&r&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.teacherObject?null:t.teacherObject.first_name.charAt(0)," ")}}function le(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Email address is required "),e.qZA())}function se(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function ue(r,n){1&r&&e._UZ(0,"mat-icon",10),2&r&&e.Q6J("svgIcon","heroicons_solid:eye")}function de(r,n){1&r&&e._UZ(0,"mat-icon",10),2&r&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function fe(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.teacherForm.get("password").errors.passwordValidator," ")}}function pe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",37)(1,"mat-form-field",45)(2,"mat-label"),e._uU(3,"Password"),e.qZA(),e._UZ(4,"input",58,59),e.TgZ(6,"button",60),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(5);return e.KtG(a.type="password"===a.type?"text":"password")}),e.YNc(7,ue,1,1,"mat-icon",61),e.YNc(8,de,1,1,"mat-icon",61),e.qZA(),e.YNc(9,fe,2,1,"mat-error",1),e.qZA()()}if(2&r){const t=e.MAs(5),o=e.oxw(2);e.xp6(4),e.Q6J("formControlName","password"),e.xp6(3),e.Q6J("ngIf","password"===t.type),e.xp6(1),e.Q6J("ngIf","text"===t.type),e.xp6(1),e.Q6J("ngIf",o.teacherForm.get("password").hasError("passwordValidator"))}}function me(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"mat-option",62),e._uU(2),e.qZA(),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ge(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"mat-option",62),e._uU(2),e.qZA(),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function he(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",67)(1,"mat-checkbox",68,69),e.NdJ("change",function(){const s=e.CHM(t).$implicit,g=e.oxw(3);return e.KtG(g.onSubjectChange(s))}),e._uU(3),e.qZA()()}if(2&r){const t=n.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("checked",o.isCheckedSubject(t,o.teacherForm.get("subjects")))("color","primary"),e.xp6(2),e.hij(" ",t.title," ")}}function _e(r,n){if(1&r&&(e.TgZ(0,"div",63)(1,"span",64),e._uU(2),e.qZA(),e.TgZ(3,"div",65),e.YNc(4,he,4,3,"div",66),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Q6J("ngForOf",null==t?null:t.subjects)}}function be(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",27)(2,"div",3)(3,"form",28)(4,"div",29)(5,"div",30),e._UZ(6,"div",31),e.TgZ(7,"div",32)(8,"div")(9,"input",33,34),e.NdJ("change",function(){e.CHM(t);const a=e.MAs(10),s=e.oxw();return e.KtG(s.uploadAvatar(a.files))}),e.qZA(),e.TgZ(11,"label",35),e._UZ(12,"mat-icon",36),e.qZA()()(),e.YNc(13,ie,1,1,"img",6),e.YNc(14,ce,2,1,"div",7),e.qZA()(),e.TgZ(15,"div",37)(16,"mat-form-field",38)(17,"mat-label"),e._uU(18,"First Name"),e.qZA(),e._UZ(19,"mat-icon",39)(20,"input",40),e.TgZ(21,"mat-error"),e._uU(22," First name is required "),e.qZA()()(),e.TgZ(23,"div",37)(24,"mat-form-field",38)(25,"mat-label"),e._uU(26,"Last Name"),e.qZA(),e._UZ(27,"mat-icon",39)(28,"input",40),e.TgZ(29,"mat-error"),e._uU(30," Last name is required "),e.qZA()()(),e.TgZ(31,"div",37)(32,"mat-form-field",38)(33,"mat-label"),e._uU(34,"City"),e.qZA(),e._UZ(35,"mat-icon",39)(36,"input",40),e.TgZ(37,"mat-error"),e._uU(38," City is required "),e.qZA()()(),e.TgZ(39,"div",37)(40,"mat-form-field",38)(41,"mat-label"),e._uU(42,"Email"),e.qZA(),e._UZ(43,"mat-icon",39)(44,"input",41),e.YNc(45,le,2,0,"mat-error",1),e.YNc(46,se,2,0,"mat-error",1),e.qZA()(),e.YNc(47,pe,10,4,"div",42),e.TgZ(48,"div",37)(49,"mat-form-field",38)(50,"mat-label"),e._uU(51,"Year of experience"),e.qZA(),e._UZ(52,"input",43),e.TgZ(53,"mat-error"),e._uU(54," Year of experience is required "),e.qZA()()(),e.TgZ(55,"div",37)(56,"mat-form-field",38)(57,"mat-label"),e._uU(58,"Degree"),e.qZA(),e._UZ(59,"input",44),e.TgZ(60,"mat-error"),e._uU(61," Degree is required "),e.qZA()()(),e.TgZ(62,"div",37)(63,"mat-form-field",45)(64,"mat-label"),e._uU(65,"Vaccinated"),e.qZA(),e._UZ(66,"input",46),e.TgZ(67,"mat-slide-toggle",47),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.vaccinateStatusChange(a))}),e.qZA()()(),e.TgZ(68,"div",37)(69,"mat-form-field",38)(70,"mat-label"),e._uU(71,"Education board"),e.qZA(),e.TgZ(72,"mat-select",48),e.YNc(73,me,3,2,"ng-container",49),e.qZA(),e.TgZ(74,"mat-error"),e._uU(75," Education board is required "),e.qZA()()(),e.TgZ(76,"div",37)(77,"mat-form-field",38)(78,"mat-label"),e._uU(79,"Language"),e.qZA(),e.TgZ(80,"mat-select",48),e.YNc(81,ge,3,2,"ng-container",49),e.qZA(),e.TgZ(82,"mat-error"),e._uU(83," Language is required "),e.qZA()()(),e.TgZ(84,"div",37)(85,"mat-form-field",38)(86,"mat-label"),e._uU(87,"About description"),e.qZA(),e._UZ(88,"textarea",44),e.TgZ(89,"mat-error"),e._uU(90," About description is required "),e.qZA()()(),e.TgZ(91,"div",37)(92,"mat-form-field",38)(93,"mat-label"),e._uU(94,"Linkein link"),e.qZA(),e._UZ(95,"input",44),e.TgZ(96,"mat-error"),e._uU(97," Linkein link is required "),e.qZA()()(),e.TgZ(98,"div",50)(99,"div",51)(100,"p",52),e._uU(101,"Subjects"),e.qZA()(),e._UZ(102,"mat-divider"),e.TgZ(103,"div",53),e.YNc(104,_e,5,2,"div",54),e.qZA()(),e.TgZ(105,"div",55)(106,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(null!=a.teacherObject&&a.teacherObject.teacher_id?a.toggleEditMode(!1):a.goBack())}),e._uU(107," Cancel "),e.qZA(),e.TgZ(108,"button",57),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.updateContact())}),e._uU(109," Save "),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.teacherForm),e.xp6(6),e.Q6J("multiple",!1)("accept","image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(1),e.Q6J("ngIf",t.avatarObject||(null==t.teacherObject?null:t.teacherObject.photo_url)),e.xp6(1),e.Q6J("ngIf",!(null!=t.teacherObject&&t.teacherObject.photo_url)),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:user-circle"),e.xp6(1),e.Q6J("formControlName","first_name")("placeholder","First Name")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:user-circle"),e.xp6(1),e.Q6J("formControlName","last_name")("placeholder","Last Name")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(1),e.Q6J("formControlName","city")("placeholder","City")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControlName","email")("placeholder","Email address")("spellcheck",!1),e.xp6(1),e.Q6J("ngIf",t.teacherForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.teacherForm.get("email").hasError("email")),e.xp6(1),e.Q6J("ngIf",!(null!=t.teacherObject&&t.teacherObject.teacher_id)),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","year_experience")("placeholder","Year of experience")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","degree")("placeholder","Degree")("spellcheck",!1),e.xp6(7),e.Q6J("formControlName","is_vaccinated"),e.xp6(1),e.Q6J("checked",t.teacherForm.get("is_vaccinated").value),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","board")("placeholder","Education board")("spellcheck",!1),e.xp6(1),e.Q6J("ngForOf",t.BoardList),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","language")("placeholder","Language")("spellcheck",!1),e.xp6(1),e.Q6J("ngForOf",t.LanguagesList),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","about_description")("placeholder","About description")("spellcheck",!1),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("formControlName","linkedin_link")("placeholder","Linkein link")("spellcheck",!1),e.xp6(9),e.Q6J("ngForOf",t.serverCoursesAndSubject),e.xp6(2),e.Q6J("matTooltip","Cancel"),e.xp6(2),e.Q6J("disabled",t.teacherForm.invalid)("matTooltip","Save")}}class T{constructor(n,t,o,a,s,g,d,f,p,Z,ve){this._activatedRoute=n,this._changeDetectorRef=t,this.apiService=o,this._formBuilder=a,this._fuseConfirmationService=s,this._authService=g,this._router=d,this._overlay=f,this._viewContainerRef=p,this.domSanitizer=Z,this._snackBar=ve,this.editMode=!1,this.serverCoursesAndSubject=[],this.avatarObject=null,this.BoardList=A.C,this.LanguagesList=A.y,this.user=null,this._unsubscribeAll=new _.x,this.getCoursesAndSubjectFromServer(),this._authService.user.pipe((0,q.R)(this._unsubscribeAll)).subscribe(Q=>{this.user=Q,Q&&Q?.teacher_id&&this.getTeacherFromServer()})}ngOnInit(){this.resetTeacherForm()}resetTeacherForm(){this.teacherForm&&(this.teacherForm=null),this.teacherForm=this._formBuilder.group({first_name:["",i.kI.required],is_vaccinated:[!1,i.kI.required],last_name:["",i.kI.required],email:["",[i.kI.required,i.kI.email]],year_experience:["",i.kI.required],degree:["",i.kI.required],about_description:["",i.kI.required],linkedin_link:["",i.kI.required],subjects:this._formBuilder.array([]),board:["",i.kI.required],city:["",i.kI.required],language:["",i.kI.required],password:["",(0,u.y)()]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getCoursesAndSubjectFromServer(){var n=this;this.apiService.getAllActiveCourseWithSubject().subscribe(function(){var t=(0,m.Z)(function*(o){if(o.data){let s=o.data.filter(g=>g?.subject?.length>0);for(var a=0;a<s.length;a++)s[a].subjects=s[a].subject,delete s[a].subject;n.serverCoursesAndSubject=[...s],console.log(n.serverCoursesAndSubject)}});return function(o){return t.apply(this,arguments)}}(),t=>{console.log(t)})}getTeacherFromServer(){var n=this;this.apiService.getTeacherById(this.user.teacher_id).subscribe(function(){var t=(0,m.Z)(function*(o){if(o.data){n.toggleEditMode(!1);let a=Array.isArray(o.data)?o.data[0]:o.data;a.subjects=a["teacher-subject"],delete a["teacher-subject"],n.teacherObject=a,n._changeDetectorRef.markForCheck(),console.log(n.teacherObject),n.resetTeacherForm()}});return function(o){return t.apply(this,arguments)}}(),t=>{console.log(t)})}onSubjectChange(n){if(console.log(n),this.teacherForm.get("subjects").value.find(t=>t.subject_id===n.subject_id)){const t=this.teacherForm.get("subjects").value.findIndex(a=>a.subject_id===n.subject_id);this.teacherForm.get("subjects").removeAt(t)}else{const t=this._formBuilder.group({subject_id:[n.subject_id,[i.kI.required]],teacher_id:[this.user.teacher_id,[i.kI.required]],price:[NaN]});this.teacherForm.get("subjects").push(t)}this._changeDetectorRef.markForCheck(),console.log(this.teacherForm),console.log(this.teacherForm.get("subjects").value)}isCheckedSubject(n,t){return Boolean(t.value.find(o=>o.subject_id===n.subject_id))}toggleEditMode(n=null){if(null===n)this.editMode=!this.editMode;else if(n){if(n){this.editMode=n,this.teacherObject&&(this.teacherForm.patchValue({...this.teacherObject}),this.teacherForm.removeControl("password"),this.teacherForm.get("email")?.disable());const t=[];this.teacherObject?.subjects?.length>0&&this.teacherObject?.subjects.forEach(o=>{t.push(this._formBuilder.group({"teacher-subject_id":[o["teacher-subject_id"]],subject_id:[o.subject_id.subject_id,[i.kI.required]],teacher_id:[o.teacher_id,[i.kI.required]]}))}),t.forEach(o=>{this.teacherForm.get("subjects").push(o)}),console.log(this.teacherForm)}}else this.editMode=!1,this.resetTeacherForm();this._changeDetectorRef.markForCheck()}updateContact(){var n=this;return(0,m.Z)(function*(){console.log(n.teacherForm);const t=n.teacherForm.getRawValue();if(console.log(t),"createTeacher"===n.user.teacher_id&&t)console.log(t),n.apiService.registrationTeacher({email:t.email,password:t.password}).subscribe(o=>{if(console.log(o),o.data){let a={teacher_id:o.data.teacher_id,first_name:n.capitalizeFirstLetter(t.first_name),last_name:n.capitalizeFirstLetter(t.last_name)};n.updateTeacherQuery(a,t.subjects)}else"Email address already registered by another user"===o?.error?.message&&(n.teacherForm.get("email").setErrors({serverError:o?.error?.message}),n._changeDetectorRef.markForCheck())},o=>{console.log(o)});else{let o={teacher_id:n.user.teacher_id,first_name:n.capitalizeFirstLetter(t.first_name),last_name:n.capitalizeFirstLetter(t.last_name),about_description:t?.about_description||"",board:t?.board||"",city:t?.city||"",is_vaccinated:t?.is_vaccinated||!1,language:t?.language||"",degree:t?.degree||"",year_experience:t?.year_experience||"",linkedin_link:t?.linkedin_link||""};n.updateTeacherQuery(o,t.subjects)}})()}updateTeacherQuery(n,t){var o=this;console.log({_subjects:t}),this.apiService.updateTeacher(n).subscribe(function(){var a=(0,m.Z)(function*(s){console.log(s);let g=!1;if(s.data){if(o.avatarObject){const d=yield o.convertImageFileToWebpFile(o.avatarObject);let f=new FormData;f.append("photo",d,`${s.data.teacher_id}.webp`),f.append("id",s.data.teacher_id),o.apiService.teacherUploadImage(f).subscribe(function(){var p=(0,m.Z)(function*(Z){console.log(Z),Z.data&&(g||(g=!0,o.toggleEditMode(!1),o._router.navigate(["../",s.data.teacher_id],{relativeTo:o._activatedRoute}),o.getTeacherFromServer(),o._changeDetectorRef.markForCheck()))});return function(Z){return p.apply(this,arguments)}}(),p=>{console.log(p)})}if(t.length>0){for(const d of o.teacherObject?.subjects?.filter(f=>!t.some(p=>p.subject_id===f.subject_id.subject_id)))if(d["teacher-subject_id"]){const f={teacher_subject_id:d["teacher-subject_id"]},p=yield o.apiService.deleteCourseAndSubjectToTeacher(f).toPromise();console.log("deleteCourseAndSubjectToTeacherResponse => ",p)}else console.error("deleteSubjectItem => ",d);for(const d of t.filter(f=>!o.teacherObject?.subjects?.some(p=>p.subject_id.subject_id===f.subject_id)))if(d?.subject_id){const f={subject_id:d.subject_id,teacher_id:s.data.teacher_id},p=yield o.apiService.addCourseAndSubjectToTeacher(f).toPromise();console.log("addCourseAndSubjectToTeacherResponse => ",p)}else console.error("insertSubjectItem => ",d);console.log("END"),o.toggleEditMode(!1),o._router.navigate(["../",s.data.teacher_id],{relativeTo:o._activatedRoute}),o.getTeacherFromServer(),o._changeDetectorRef.markForCheck(),o._snackBar.open("Teacher updated successfully.","",{horizontalPosition:"center",verticalPosition:"top",duration:3e3,panelClass:["success-toast"]})}}});return function(s){return a.apply(this,arguments)}}(),a=>{console.log(a)})}vaccinateStatusChange(n){console.log(n.checked),this.teacherForm.get("is_vaccinated").setValue(n.checked)}deleteContact(){this._fuseConfirmationService.open({title:"Delete teacherObject",message:"Are you sure you want to delete this teacherObject? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(t=>{})}goBack(){this._router.navigate(["../"],{relativeTo:this._activatedRoute})}uploadAvatar(n){if(!n.length)return;const o=n[0];!["image/jpeg","image/png"].includes(o.type)||(console.log("file -> ",o),this.avatarObject=o)}removeAvatar(){}imageFileTOString(n){return"string"==typeof n?n:this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(n))}capitalizeFirstLetter(n){return n[0].toUpperCase()+n.slice(1).toLowerCase()}convertImageFileToWebpFile(n){return new Promise((t,o)=>{const a=new Image;a.onload=()=>{const s=document.createElement("canvas");s.width=a.naturalWidth,s.height=a.naturalHeight,s.getContext("2d").drawImage(a,0,0),s.toBlob(g=>{let d=new File([g],"my-new-group-image.webp",{type:g.type});t(d)},"image/webp")},a.crossOrigin="anonymous",a.src=URL.createObjectURL(n)})}}T.\u0275fac=function(n){return new(n||T)(e.Y36(b.gz),e.Y36(e.sBO),e.Y36(P.s),e.Y36(i.QS),e.Y36(Y.R),e.Y36(B.e),e.Y36(b.F0),e.Y36(L.aV),e.Y36(e.s_b),e.Y36(E.H7),e.Y36(z.ux))},T.\u0275cmp=e.Xpm({type:T,selectors:[["profile"]],viewQuery:function(n,t){if(1&n&&e.Gf(R,5),2&n){let o;e.iGM(o=e.CRH())&&(t._avatarFileInput=o.first)}},decls:3,vars:2,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end","mt-4"],[1,"flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","flex-col","mt-4","pt-6","border-t","space-y-8"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex"],[3,"svgIcon"],[1,"min-w-0","ml-6","space-y-1"],[1,"flex","items-center","leading-6"],["target","_blank",1,"hover:underline","text-primary-500",3,"href"],[1,"max-w-none","ml-6","prose","prose-sm"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ml-2.5","font-mono",3,"matTooltip"],[1,"text-md","truncate","text-secondary"],[1,"mx-2"],[1,"font-medium",3,"matTooltip"],[1,"relative","flex","flex-col","flex-auto","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"flex","flex-auto","justify-center","items-end","mt-4"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],["matInput","","type","email",3,"formControlName","placeholder","spellcheck"],["class","mt-8",4,"ngIf"],["matInput","","min","0","type","number",3,"formControlName","placeholder","spellcheck"],["matInput","","type","text",3,"formControlName","placeholder","spellcheck"],[1,"w-full"],["matInput","","type","text","hidden","",3,"formControlName"],[3,"checked","change"],["multiple","",3,"formControlName","placeholder","spellcheck"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","mt-8","bg-card","shadow","rounded","overflow-hidden"],[1,"p-4","bg-gray-50","dark:bg-gray-700"],[1,"text-lg","font-medium"],[1,"p-4"],["class","flex flex-col gt-xs:flex-row mt-8",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2","bg-[#b5245f]","text-white",3,"disabled","matTooltip","click"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[3,"value"],[1,"flex","flex-col","gt-xs:flex-row","mt-8"],[1,"font-semibold","mb-2","gt-xs:text-right","gt-xs:min-w-32","gt-xs:mr-4","gt-xs:mb-0"],[1,"flex","flex-col"],["class","flex flex-row justify-between mb-2",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","mb-2"],[1,"",3,"checked","color","change"],["pri",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,ae,23,13,"ng-container",1),e.YNc(2,be,110,61,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",!t.editMode),e.xp6(1),e.Q6J("ngIf",t.editMode))},dependencies:[j.lW,j.RK,J.oG,l.d,h.KE,h.hX,h.TO,h.qo,h.R9,C.Hw,w.Nt,F.gM,I.gD,M.ey,U.Rr,S.sg,S.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.sg,i.u],encapsulation:2,changeDetection:0});const xe=[{path:"",component:T}];class v{}v.\u0275fac=function(n){return new(n||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[b.Bz.forChild(xe),j.ot,J.p9,l.t,h.lN,C.Ps,w.c,k.Tx,F.AV,I.LD,O.J,U.rP,x.m]})}}]);