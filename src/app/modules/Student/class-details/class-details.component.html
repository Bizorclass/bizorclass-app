<div class="flex flex-col flex-auto min-w-0">
  <div class="flex-auto p-4 md:p-10 flex flex-col">
    <div class="flex-[1] rounded-md w-full">
      <div class="teacherNameWrapper">
        <div class="teacherName font-bold">
          Class Details
        </div>
        <div *ngIf="orderDetails?.cancel_status" class="ratingChip text-white bg-red-500">
          Booking canceled
        </div>
      </div>

      <div class="profilePhoto">
        <img class="teacherImage" [src]="orderDetails?.teacher_id?.photo_url" (error)="onTeacherImgError($event)" alt="">
        <div class="teacherName">
          {{orderDetails?.teacher_id?.first_name}} {{orderDetails?.teacher_id?.last_name}}
        </div>
      </div>

      <!-- <div class="mt-4">
        <p class="text-[1.5rem] font-semibold mb-2">Teacher Details</p>
        <p>{{teacherDetails?.about_description}}</p>
      </div> -->

      <!-- <div class="subscriptionButtonWrapper">
        <button mat-fab extended class="backgroundDark" [routerLink]="['./', 'subscriptions']">
          <mat-icon>credit_card</mat-icon>
          Subscribe
        </button>
        <button mat-fab extended class="backgroundDark" [routerLink]="['./', 'add-review']">
          <mat-icon>star</mat-icon>
          Rate Teacher
        </button>
      </div> -->

      <div class="mt-4">
        <p class="text-[1.4rem] font-semibold mb-1 leading-5">Date</p>
        <div class="infoWrapper">
          <div>{{getDateString()}}</div>
        </div>
      </div>

      <div class="mt-4">
        <p class="text-[1.4rem] font-semibold mb-1 leading-5">Time</p>
        <div class="infoWrapper">
          <div *ngIf="this.orderDetails?.start_time">{{getTimeString()}}</div>
        </div>
      </div>

      <div class="mt-4">
        <p class="text-[1.4rem] font-semibold mb-1 leading-5">Address</p>
        <div class="infoWrapper">
          <div >{{orderDetails?.address}}</div>
        </div>
      </div>

      <div class="mt-4" *ngIf="orderDetails?.refund_status">
        <p class="text-[1.4rem] font-semibold mb-1 leading-5">Refund Status</p>
        <div class="infoWrapper">
          <mat-chip-option selectable="false" class="chipClass">{{orderDetails?.refund_status}}</mat-chip-option>
          <!-- <div >{{orderDetails?.refund_status}}</div> -->
        </div>
      </div>

      <div class="mt-4" *ngIf="orderDetails?.isChangeRequestPending || orderDetails?.isChangeRequestReject || orderDetails?.isChangeRequestAccept">
        <p class="text-[1.4rem] font-semibold mb-1 leading-5">Transfer Teacher Request Status</p>
        <div class="infoWrapper">
          <mat-chip-option selectable="false" class="transferRequestChipClass">{{orderDetails?.changeRequestDetails?.request_status}}</mat-chip-option>
          <!-- <div >{{orderDetails?.refund_status}}</div> -->
        </div>
      </div>

      <div class="mt-4" *ngIf="orderDetails?.isChangeRequestPending || orderDetails?.isChangeRequestReject">
        <p class="text-[1.4rem] font-semibold mb-1 leading-5">Request Teacher</p>

        <div class="cardBox">
          <img class="teacherImage" [src]="orderDetails?.changeRequestDetails?.new_teacher_id?.photo_url" (error)="onTeacherImgError($event)" alt="">
          <div class="teacherName text-white">
            {{orderDetails?.changeRequestDetails?.new_teacher_id.first_name}} {{orderDetails?.changeRequestDetails?.new_teacher_id.last_name}}
            <div *ngIf="orderDetails?.changeRequestDetails?.new_teacher_id?.degree">{{orderDetails?.changeRequestDetails?.new_teacher_id?.degree}}</div>
            <div class="board" *ngIf="orderDetails?.changeRequestDetails?.new_teacher_id?.board"> {{orderDetails?.changeRequestDetails?.new_teacher_id?.board?.join(' | ')}} </div>
          </div>
          <div class="teacherExperience text-black">
            {{orderDetails?.changeRequestDetails?.new_teacher_id?.year_experience || 0}}
            <br />
            Years
          </div>
          <!-- <img class="teacherImage" src="../../../../assets/images/avatars/dummy user.png" alt=""> -->
        </div>


      </div>

      <!-- <div class="mt-2">
        <p class="text-[1.5rem] font-semibold mb-2">Education Board</p>
        <div class="infoWrapper">
          <ng-container *ngFor="let item of teacherDetails?.board">
            <div class="infoWrapperBox backgroundDark"> <mat-icon>book</mat-icon> {{item}} </div>
          </ng-container>
        </div>
      </div> -->

      <!-- <ng-container *ngIf="teacherDetails && teacherDetails['teacher-subject'] !== undefined && teacherDetails['teacher-subject']?.length">
        <div class="flex flex-col">
          <p class="text-[1.5rem] font-semibold">Subjects Offered</p>
          <div class="min-w-0 space-y-1">
            <ng-container *ngFor="let subjectItem of teacherDetails['teacher-subject']; trackBy: trackByFn">
              <div class="flex items-center leading-6">
                <div class="ml-2.5 font-mono" [matTooltip]="'Course Name'">{{subjectItem?.subject_id?.course_id.title}}</div>
                <div class="text-md truncate text-secondary">
                  <span class="mx-2">&bull;</span>
                  <span class="font-medium" [matTooltip]="'Subject Name'">{{subjectItem?.subject_id?.title}}</span>
                </div>
              </div>
            </ng-container>
          </div>
        </div>
      </ng-container> -->

      <!-- <ng-container *ngIf="teacherDetails && teacherDetails?.schedule && teacherDetails?.schedule.length">
        <div class="flex flex-col">
          <p class="text-[1.5rem] font-semibold">Schedule Class</p>

          <div class="min-w-0 space-y-1">
            <ng-container *ngFor="let scheduleItem of teacherDetails?.schedule; trackBy: trackByFn">
              <div class="flex justify-between items-center py-2 border-b-[1px] border-b-slate-400">
                <p class="text-[1rem] font-medium">{{scheduleItem?.start_time}} - {{scheduleItem?.end_time}}</p>
                <button mat-fab extended class="backgroundDark" [routerLink]="['./', 'add-booking', scheduleItem.schedule_id]">
                  Book
                </button>
              </div>
            </ng-container>
          </div>
        </div>
      </ng-container> -->

      <!-- <button mat-fab extended class="backgroundDark mt-4 w-full" [routerLink]="['./', 'add-booking']">
        Book
      </button> -->

      <div class="subscriptionButtonWrapper mt-8">
        <button mat-fab extended class="backgroundDark" (click)="processForCancel()" [disabled]="isCancelButtonDisable()">
          <!--  -->
          <!-- <mat-icon>credit_card</mat-icon> -->
          Cancel
        </button>
        <button mat-fab extended class="backgroundDark" (click)="goToTeachers()" [disabled]="orderDetails ? (orderDetails.isChangeRequestPending || orderDetails.isChangeRequestReject || orderDetails.isChangeRequestAccept) : true">
          <!-- <mat-icon>star</mat-icon> -->
          Change Teacher
        </button>
      </div>

    </div>
  </div>
  <div class="loadingWrapper" *ngIf="isLoading">
    <mat-spinner color="red"></mat-spinner>
  </div>
</div>
